<section>
  @if(productSCart()){
  <div class="bg-main-light shadow p-2 my-3">
    <div class="border-bottom">
      <h2
        class="fw-bold text-center text-main text-decoration-underline link-offset-2"
      >
        Cart Items
      </h2>
      <div class="d-flex justify-content-between my-2">
        <h5 class="py-2 text-main">
          totalCartPrice:
          {{ productSCart()?.totalCartPrice | currency : "EGP" }}
        </h5>
        <button
          (click)="removeItems()"
          class="btn btn-outline-danger px-3 py-0 fs-5 fw-bold"
        >
          Clear
        </button>
      </div>
    </div>

    @for (item of productSCart()?.products; track item.product._id) {
    <div class="row border-bottom py-2">
      <div class="col-md-1">
        <img
          height="150px"
          width="100px"
          class="m-auto d-block"
          [src]="item.product.imageCover"
          [alt]="item.product.title"
        />
      </div>
      <div class="col-md-11 d-flex justify-content-between align-items-center">
        <div class="py-3 w-50">
          <h5 class="text-main">
            {{ item.product.title.split(" ", 2).join(" ") }}
          </h5>
          <span>{{ item.product.category.name }}</span>
          <p
            (click)="removeItem(item.product._id)"
            class="text-danger cursor-pointer"
          >
            Remove <i class="fa-solid fa-trash"></i>
          </p>
        </div>
        <div>
          <span
            (click)="updateQuantity(item.product._id, item.count + 1)"
            class="text-center rounded-5 bg-main p-2 cursor-pointer"
            ><i class="fa-solid fa-plus"></i
          ></span>
          <span class="mx-2 fs-4">{{ item.count }}</span>
          <span
            class="text-center rounded-5 bg-main p-2 cursor-pointer"
            (click)="updateQuantity(item.product._id, item.count - 1)"
            ><i class="fa-solid fa-minus"></i
          ></span>
        </div>
      </div>
    </div>
    }
  </div>
  } @else {
  <div class="text-center d-flex justify-content-center fs-4">
    <p class="mx-2">Cart is empty go to</p>
    <a
      routerLink="/home"
      class="text-primary cursor-pointer text-decoration-underline"
      >Home</a
    >
  </div>
  }
</section>
